library(ALSCL)
library(ALSCL)
# input data
setwd("E:\\Oceanic Fisheries Ecosystem Laboratory\\krill")
cl<-read.table("CatL-5mm-all.csv",header=T,sep=",")
wgt<-read.table("wgt-5mm-all.csv",header=T,sep=",")
mat<-read.table("mat-5mm-all.csv",header=T,sep=",")
a<-run_alscl1(data.CatL=cl,data.wgt = wgt,data.mat = mat,rec.age=1,nage=5,M=0.3,sel_L50=40,sel_L95=45)
View(a)
library(ALSCL)
a<-run_alscl1(data.CatL=cl,data.wgt = wgt,data.mat = mat,rec.age=1,nage=5,M=0.3,sel_L50=40,sel_L95=45)
View(a)
a[["bound_hit"]]
c<-sim_alscl(iter_range = 4,sim_data_path = "E://sim",output_dir = "E://sim")
library(ALSCL)
c<-sim_alscl(iter_range = 4,sim_data_path = "E://sim",output_dir = "E://sim")
a<-run_alscl1(data.CatL=cl,data.wgt = wgt,data.mat = mat,rec.age=1,nage=5,M=0.3,sel_L50=40,sel_L95=45)
parameters = list(
log_init_Z = 0.5,
log_std_log_N0 = log(1),
mean_log_R = 5,
log_std_log_R = log(1),
logit_log_R = log(0.01/0.99),
mean_log_F = log(0.3),
log_std_log_F = log(1),
logit_log_F_y = log(0.75/0.25),
logit_log_F_a = log(0.75/0.25),
log_vbk = log(0.3),
log_Linf = log(90),
log_t0 = log(1/60),
log_cv_len = log(0.3),
log_std_index = log(0.1),
# random effects
dev_log_R = rep(0,Y),
dev_log_F = array(0,c(A,Y)),
dev_log_N0 = rep(0,(A-1))
)
Y=21
A=5
L=9
parameters = list(
log_init_Z = 0.5,
log_std_log_N0 = log(1),
mean_log_R = 5,
log_std_log_R = log(1),
logit_log_R = log(0.01/0.99),
mean_log_F = log(0.3),
log_std_log_F = log(1),
logit_log_F_y = log(0.75/0.25),
logit_log_F_a = log(0.75/0.25),
log_vbk = log(0.3),
log_Linf = log(90),
log_t0 = log(1/60),
log_cv_len = log(0.3),
log_std_index = log(0.1),
# random effects
dev_log_R = rep(0,Y),
dev_log_F = array(0,c(A,Y)),
dev_log_N0 = rep(0,(A-1))
)
parameters.L = list(
# fixed effects
log_init_Z = log(0.01),
log_std_log_N0 = -Inf,
mean_log_R = log(10),
log_std_log_R = log(0.01),
logit_log_R = -30,
mean_log_F = log(0.01),
#log_std_log_F = log(0.01),
logit_log_F_y = -10,
logit_log_F_a = -10,
log_vbk = log(0.1),
#log_Linf = log(50),
#log_t0 = -20,
log_cv_len = log(0.01),
log_std_index = log(0.01)
)
parameters.U = list(
# fixed effects
log_init_Z = log(10),
log_std_log_N0 = log(10),
mean_log_R = 20,
log_std_log_R = log(10),
logit_log_R = 20,
mean_log_F = log(2),
#log_std_log_F = log(10),
logit_log_F_y = 20,
logit_log_F_a = 10,
log_vbk = log(1),
#log_Linf = log(100),
#log_t0 = 0,
log_cv_len = log(1),
log_std_index = log(1)
)
lower=unlist(parameters.L)
upper=unlist(parameters.U)
map = list(
#log_std_log_N0 = factor(NA),
#log_std_log_R = factor(NA),
log_std_log_F = factor(NA),
log_Linf=factor(NA),
log_t0=factor(NA)
#log_std_index=factor(NA)
)
rnames=c("dev_log_R","dev_log_F","dev_log_N0")
generate_map(mao)
generate_map(map)
a<-run_alscl1(data.CatL=cl,data.wgt = wgt,data.mat = mat,rec.age=1,nage=5,M=0.3,sel_L50=40,sel_L95=45,parameters = parameters,parameters.L = parameters.L,parameters.U =parameters.U)
p<-create_parameters(parameters = parameters,parameters.L = parameters.L,parameters.U = parameters.U)
p$parameters.L
pl<-p$parameters.L
a<-run_alscl1(data.CatL=cl,data.wgt = wgt,data.mat = mat,rec.age=1,nage=5,M=0.3,sel_L50=40,sel_L95=45,parameters = parameters,parameters.L = parameters.L,parameters.U =parameters.U,map=map)
